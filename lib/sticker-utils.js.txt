
const a12_0x5566f2=a12_0x83d7;(function(_0x3791c2,_0x3a052a){const _0x5468e8=a12_0x83d7,_0x55ea76=_0x3791c2();while(!![]){try{const _0x5cfe0f=parseInt(_0x5468e8(0x16d))/0x1+-parseInt(_0x5468e8(0x15f))/0x2*(-parseInt(_0x5468e8(0x162))/0x3)+-parseInt(_0x5468e8(0x14b))/0x4*(parseInt(_0x5468e8(0x15a))/0x5)+-parseInt(_0x5468e8(0x15c))/0x6+parseInt(_0x5468e8(0x160))/0x7+-parseInt(_0x5468e8(0x13c))/0x8*(parseInt(_0x5468e8(0x155))/0x9)+parseInt(_0x5468e8(0x147))/0xa;if(_0x5cfe0f===_0x3a052a)break;else _0x55ea76['push'](_0x55ea76['shift']());}catch(_0x43af7c){_0x55ea76['push'](_0x55ea76['shift']());}}}(a12_0x215e,0x8cb7f));function a12_0x83d7(_0x341654,_0x41c284){const _0x215e19=a12_0x215e();return a12_0x83d7=function(_0x83d7d7,_0x50edb7){_0x83d7d7=_0x83d7d7-0x13a;let _0x18265b=_0x215e19[_0x83d7d7];return _0x18265b;},a12_0x83d7(_0x341654,_0x41c284);}const axios=require(a12_0x5566f2(0x158)),fs=require('fs'),path=require('path'),{tmpdir}=require('os'),Crypto=require('crypto'),ffmpegPath=require(a12_0x5566f2(0x163))[a12_0x5566f2(0x14a)],ffmpeg=require(a12_0x5566f2(0x144));ffmpeg[a12_0x5566f2(0x14c)](ffmpegPath);async function fetchImage(_0x57e63e){const _0x8f6615=a12_0x5566f2,_0x145bd7={'JUQiH':_0x8f6615(0x16b),'pnuDR':_0x8f6615(0x152)};try{const _0xec8f4b=await axios[_0x8f6615(0x166)](_0x57e63e,{'responseType':_0x145bd7['JUQiH']});return _0xec8f4b[_0x8f6615(0x153)];}catch(_0xf8220e){console[_0x8f6615(0x142)](_0x8f6615(0x156),_0xf8220e);throw new Error(_0x145bd7[_0x8f6615(0x15b)]);}}async function fetchGif(_0x17714a){const _0x22ec84=a12_0x5566f2,_0x1de324={'YrEfI':_0x22ec84(0x140),'EcCqY':_0x22ec84(0x141)};try{const _0x4a39f9=await axios[_0x22ec84(0x166)](_0x17714a,{'responseType':_0x22ec84(0x16b)});return _0x4a39f9[_0x22ec84(0x153)];}catch(_0x28b0d5){console[_0x22ec84(0x142)](_0x1de324[_0x22ec84(0x157)],_0x28b0d5);throw new Error(_0x1de324['EcCqY']);}}async function gifToSticker(_0x4743e4){const _0xb3ec37=a12_0x5566f2,_0x31cd5c={'rbuXy':'error','rLlIm':_0xb3ec37(0x167),'YCtFj':'-vcodec','ZBWLC':_0xb3ec37(0x14f),'FGdVU':'scale=\x27min(320,iw)\x27:min\x27(320,ih)\x27:force_original_aspect_ratio=decrease,fps=15,pad=320:320:-1:-1:color=white@0.0,split\x20[a][b];[a]\x20palettegen=reserve_transparent=on:transparency_color=ffffff\x20[p];[b][p]\x20paletteuse','wKpZR':_0xb3ec37(0x150),'Guhni':_0xb3ec37(0x146),'GcGna':_0xb3ec37(0x13d),'BmLKz':_0xb3ec37(0x159),'dQGJb':function(_0x5ed970){return _0x5ed970();},'DxPeB':function(_0x5d5040,_0x47702f){return _0x5d5040+_0x47702f;},'yelJL':'hex','cferI':'.webp','MaKff':function(_0x1cb497){return _0x1cb497();},'KaFnl':function(_0x3a497a,_0x39088f){return _0x3a497a+_0x39088f;},'rWzxx':'.gif'},_0x501b4e=path[_0xb3ec37(0x13b)](_0x31cd5c[_0xb3ec37(0x164)](tmpdir),_0x31cd5c[_0xb3ec37(0x13e)](Crypto[_0xb3ec37(0x145)](0x6)['toString'](_0x31cd5c['yelJL']),_0x31cd5c[_0xb3ec37(0x161)])),_0xa3ebb1=path[_0xb3ec37(0x13b)](_0x31cd5c[_0xb3ec37(0x14e)](tmpdir),_0x31cd5c[_0xb3ec37(0x13f)](Crypto[_0xb3ec37(0x145)](0x6)['toString'](_0x31cd5c['yelJL']),_0x31cd5c['rWzxx']));fs[_0xb3ec37(0x148)](_0xa3ebb1,_0x4743e4),await new Promise((_0x57f79f,_0x17e858)=>{const _0x51d2a5=_0xb3ec37;ffmpeg(_0xa3ebb1)['on'](_0x31cd5c['rbuXy'],_0x17e858)['on'](_0x31cd5c[_0x51d2a5(0x14d)],()=>_0x57f79f(!![]))[_0x51d2a5(0x169)]([_0x31cd5c[_0x51d2a5(0x15d)],'libwebp',_0x31cd5c['ZBWLC'],_0x31cd5c['FGdVU'],_0x51d2a5(0x151),'0',_0x51d2a5(0x13a),_0x31cd5c[_0x51d2a5(0x154)],_0x31cd5c[_0x51d2a5(0x16a)],_0x31cd5c['GcGna'],'0'])[_0x51d2a5(0x168)](_0x31cd5c[_0x51d2a5(0x149)])[_0x51d2a5(0x165)](_0x501b4e);});const _0x5412db=fs[_0xb3ec37(0x15e)](_0x501b4e);return fs[_0xb3ec37(0x143)](_0x501b4e),fs['unlinkSync'](_0xa3ebb1),_0x5412db;}module[a12_0x5566f2(0x16c)]={'fetchImage':fetchImage,'fetchGif':fetchGif,'gifToSticker':gifToSticker};function a12_0x215e(){const _0x390d3b=['-vf','default','-loop','Could\x20not\x20fetch\x20image.','data','wKpZR','45zWhFNS','Error\x20fetching\x20image:','YrEfI','axios','webp','265fFRBvO','pnuDR','730614hsvwXB','YCtFj','readFileSync','1242462WTlhxz','706650atDXnB','cferI','3lQVqFF','@ffmpeg-installer/ffmpeg','dQGJb','save','get','end','toFormat','addOutputOptions','Guhni','arraybuffer','exports','624668JBSEHl','-preset','join','1512136tbRZmg','-vsync','DxPeB','KaFnl','Error\x20fetching\x20GIF:','Could\x20not\x20fetch\x20GIF.','error','unlinkSync','fluent-ffmpeg','randomBytes','-an','4440990NsznsS','writeFileSync','BmLKz','path','11148DSMEhz','setFfmpegPath','rLlIm','MaKff'];a12_0x215e=function(){return _0x390d3b;};return a12_0x215e();}
